{% extends "base.html" %}

{% block title %}Profesor - Crear actividad{% endblock %}

{% block content %}
<div class="grid-2">
    <div class="card">
        <h2>Nueva actividad</h2>
        <p class="muted">
            Define el tema, el objetivo de aprendizaje y las consignas (una por línea).
            Luego podrás generar y ajustar las ayudas.
        </p>

        <form method="POST">
            <label for="tema">Tema</label>
            <input type="text" id="tema" name="tema" required>

            <br><br>
            <label for="objetivo">Objetivo</label>
            <textarea id="objetivo" name="objetivo" required></textarea>

            <br><br>
            <label for="consignas">Consignas / preguntas (una por renglón)</label>
            <textarea id="consignas" name="consignas" placeholder="Ejemplo:
Describe brevemente qué fue la Revolución Francesa.
Menciona dos causas principales de la Revolución.
Explica una consecuencia para la sociedad europea."></textarea>

            <br><br>
            <button type="submit" class="btn btn-primary">Crear actividad</button>
        </form>
    </div>

    <div class="card">
        <h3>Actividades ya creadas</h3>
        {% if activities %}
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Tema</th>
                        <th>Consigna</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                {% for act in activities %}
                    <tr>
                        <td>#{{ act.id }}</td>
                        <td>{{ act.tema }}</td>
                        <td>{{ act.consigna[:60] }}{% if act.consigna|length > 60 %}...{% endif %}</td>
                        <td>
                            <a href="{{ url_for('profe_ayudas', activity_id=act.id) }}" class="btn btn-secondary">Ayudas</a>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p class="muted">Aún no has creado actividades.</p>
        {% endif %}
    </div>
</div>
{% endblock %}